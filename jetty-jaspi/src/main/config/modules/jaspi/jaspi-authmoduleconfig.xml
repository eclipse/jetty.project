<?xml version="1.0"?>
<!DOCTYPE Configure PUBLIC "-//Jetty//Configure//EN" "https://www.eclipse.org/jetty/configure_10_0.dtd">
<Configure>
 <!-- 
    Example configuration of a Basic Authentication Module for the Jakarta Authentication SPI 
    
    Input provided below conforms to the Jakarta Authentication 2.0 specification:
    https://jakarta.ee/specifications/authentication/2.0/jakarta-authentication-spec-2.0.pdf
 -->
 <Ref refid="jaspiAuthConfigFactory">
	<Call name="registerConfigProvider">
          <Arg type="String">org.eclipse.jetty.security.jaspi.modules.BasicAuthenticationAuthModule</Arg>
          <Arg>
              <Map>
                  <Entry>
                      <!-- Realm as utilised by Jetty Security  -->
                      <Item>org.eclipse.jetty.security.jaspi.modules.RealmName</Item>
                      <Item>TestRealm</Item>
                  </Entry>
              </Map>
          </Arg>
          <!-- Message Layer Identifier as per spec chapter 3.1  -->
          <Arg type="String">HttpServlet</Arg>
          <!-- 
            Application Context Identifier as per spec chapter 3.2:
            
            AppContextID ::= hostname blank context-path
            
            Hostname may be the physical or logical server name.
            Per the specification this should match the value returned from 
            getVirtualServerName on the ServletContext corresponding to the web application
            where this applies. 
            Likewise, the context-path should match the context path where this applies.  
          -->
          <Arg type="String">server /ctx</Arg>
          <!-- 
            A friendly description of the provided auth-module. 
          -->
          <Arg type="String">A simple provider using HTTP BASIC authentication</Arg>
	</Call>
  </Ref>
</Configure>
